---
title: 'with()'
pubDate: 'Jun 01 2023'
header_title: 'with()'
header_long_title: 'Array.prototype.with()'
syntax: 'with(index, value)'
parent: ''
what: 'the copying version of using the bracket notation to change the value of a given index'
---
import CopyToClipboard from '../../components/CopyToClipboard.astro'

{frontmatter.what}  

- returns a new array with the element at the given index replaced with the given value
  - as opposed to bracket notation to change the value of a given index, which mutates the original array
- used with: [at()](../../Array/at/)
  - by combining with() with at(), you can both write and read (respectively) an array using negative indices

<div class="copy-to-clipboard-wrap" id="code-sample-01">
<CopyToClipboard id="code-sample-01"></CopyToClipboard>
```js
const list = ['apple', 'cherry', 'pumpkin', 'pecan', 'blueberry', 'peach'];
console.log('initial list', list);
// Expected Output: ['apple', 'cherry', 'pumpkin', 'pecan', 'blueberry', 'peach']

let newList = list.with(0, "lemon");
console.log('get copy of list, replace value of first item', newList);
// Expected Output: ['lemon', 'cherry', 'pumpkin', 'pecan', 'blueberry', 'peach']

newList.length = 1;
console.log('truncated list copy', newList);
// Expected Output: ['apple']

newList = list.with(-1, "lemon");
console.log('get copy of list, replace value of last item', newList);
// Expected Output: ['apple', 'cherry', 'pumpkin', 'pecan', 'blueberry', 'lemon']

console.log('inspect list', list);
// Expected Output: ['apple', 'cherry', 'pumpkin', 'pecan', 'blueberry', 'peach']

list[2] = 'strawberry';
console.log('mutated list', list);
// Expected Output: ['apple', 'cherry', 'strawberry', 'pecan', 'blueberry', 'peach']
```
</div>
